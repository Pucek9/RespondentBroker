<div class="w3-card-4">

	<header class="w3-container ">
		<h5>
			<a class="w3-btn w3-ripple w3-right w3-border w3-black header-button"
			   href="/{{$ctrl.backState}}">
				<i class="fa fa-chevron-circle-left"></i> {{'BACK' | translate}}
			</a>
			<a class="w3-btn w3-ripple w3-right w3-border header-button"
			   href="/projects/{{$ctrl.projectId}}/preview">
				<i class="fa fa-eye"></i> {{'PREVIEW' | translate}}
			</a>
			<i class="fa fa-{{$ctrl.icon}} fa-fw"></i>
			{{$ctrl.pageTitle | translate}} {{$ctrl.project.name}}
		</h5>
	</header>

	<div class="w3-container">
		<div class="w3-accordion">
			<button ng-click="userStats = !userStats" ng-init="userStats=true" class="w3-btn-block w3-left-align w3-asphalt">
				{{ 'USER_STATISTICS' | translate }} <i class="fa fa-angle-double-down" aria-hidden="true"
				                                       ng-if="!userStats"></i>
				<i class="fa fa-angle-double-up" aria-hidden="true" ng-if="userStats"></i>
			</button>
			<div class="w3-accordion-content" ng-class="{'w3-show': userStats}">
				<div class="w3-quarter">
					<h6>{{ 'USER.EDUCATION' | translate }}</h6>
					<div style="width:250px; height: 250px">
						<canvas class="chart chart-pie" width="250" height="250"
						        style="display: block; width: 250px; height: 250px;"
						        chart-data="$ctrl.usersData.education.values" chart-labels="$ctrl.usersData.education.keys"
						        chart-options="{legend: $ctrl.legend, tooltips: $ctrl.tooltipsPie}">
						</canvas>
					</div>
				</div>

				<div class="w3-quarter">
					<h6>{{ 'USER.LANGUAGE' | translate }}</h6>
					<div style="width:250px; height: 250px">
						<canvas class="chart chart-pie" width="250" height="250"
						        style="display: block; width: 250px; height: 250px;"
						        chart-data="$ctrl.usersData.language.values" chart-labels="$ctrl.usersData.language.keys"
						        chart-options="{legend: $ctrl.legend, tooltips: $ctrl.tooltipsPie}">
						</canvas>
					</div>
				</div>

				<div class="w3-quarter">
					<h6>{{ 'USER.AGE' | translate }}</h6>
					<div style="width:250px; height: 250px">
						<canvas class="chart chart-pie" width="250" height="250"
						        style="display: block; width: 250px; height: 250px;"
						        chart-data="$ctrl.usersData.age.values" chart-labels="$ctrl.usersData.age.keys"
						        chart-options="{legend: $ctrl.legend, tooltips: $ctrl.tooltipsPie}">
						</canvas>
					</div>
				</div>

				<div class="w3-quarter">
					<h6>{{ 'USER.GENDER' | translate }}</h6>
					<div style="width:250px; height: 250px">
						<canvas class="chart chart-pie" width="250" height="250"
						        style="display: block; width: 250px; height: 250px;"
						        chart-data="$ctrl.usersData.gender.values" chart-labels="$ctrl.usersData.gender.keys"
						        chart-options="{legend: $ctrl.legend, tooltips: $ctrl.tooltipsPie}">
						</canvas>
					</div>
				</div>

			</div>
		</div>
	</div>
	<!--*{{$ctrl.data.completed}}<br/>-->
	<!--*{{$ctrl.data.completedTranspoted}}<br/>-->
	<div class="w3-container">
		<div class="w3-accordion">
			<button ng-click="tasksStats = !tasksStats" ng-init="tasksStats=false" class="w3-btn-block w3-left-align w3-asphalt">
				{{ 'TASKS_STATISTICS' | translate }} <i class="fa fa-angle-double-down" aria-hidden="true"
				                                       ng-if="!tasksStats"></i>
				<i class="fa fa-angle-double-up" aria-hidden="true" ng-if="tasksStats"></i>
			</button>
			<div class="w3-accordion-content" ng-class="{'w3-show': tasksStats}">

				<div class="w3-half">
					<h6>{{ 'COMPLETED_TOTAL' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-pie" width="500" height="250"
						        style="display: block; width: 500px; height: 250px;"
						        chart-data="$ctrl.data.completedAll.values" chart-labels="$ctrl.data.completedAll.keys"
						        chart-options="{legend: $ctrl.legend, tooltips: $ctrl.tooltipsPie}">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'STARS_TOTAL' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-pie" width="500" height="250"
						        style="display: block; width: 500px; height: 250px;"
						        chart-data="$ctrl.data.starsAll.values" chart-labels="$ctrl.data.starsAll.keys"
						        chart-options="{legend: $ctrl.legend, tooltips: $ctrl.tooltipsPie}">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'COMPLETED_TASK' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.completedTranspoted" chart-labels="$ctrl.data.names"
						        chart-options="{scales: $ctrl.scales, tooltips: $ctrl.tooltipsBarPercentage}" >
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'STARS' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.stars" chart-labels="$ctrl.data.names"
						        chart-options="{tooltips: $ctrl.tooltipsBar, scales: $ctrl.scales}">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'STARS' | translate }} - {{'STATS' | translate}}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.starsStats" chart-labels="$ctrl.data.names" chart-options="{legend: $ctrl.legend, scales: $ctrl.scales}"
						        chart-series="$ctrl.data.series">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'ACTIONS' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.actions" chart-labels="$ctrl.data.names" chart-options="{tooltips: $ctrl.tooltipsBar, scales: $ctrl.scales}">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'ACTIONS' | translate }} - {{'STATS' | translate}}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.actionsStats" chart-labels="$ctrl.data.names" chart-options="{legend: $ctrl.legend, scales: $ctrl.scales}" chart-series="$ctrl.data.series">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'MISTAKES' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.mistakes" chart-labels="$ctrl.data.names" chart-options="{tooltips: $ctrl.tooltipsBar, scales: $ctrl.scales}">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'MISTAKES' | translate }} - {{'STATS' | translate}}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.mistakesStats" chart-labels="$ctrl.data.names" chart-options="{legend: $ctrl.legend, scales: $ctrl.scales}" chart-series="$ctrl.data.series">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'TIMES' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.times" chart-labels="$ctrl.data.names" chart-options="{tooltips: $ctrl.tooltipsBar, scales: $ctrl.scales}">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'TIMES' | translate }} - {{'STATS' | translate}}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.timesStats" chart-labels="$ctrl.data.names" chart-options="{legend: $ctrl.legend, scales: $ctrl.scales}"
						        chart-series="$ctrl.data.series">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'FAULTY_TIMES' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.faultyTimes" chart-labels="$ctrl.data.names" chart-options="{tooltips: $ctrl.tooltipsBar, scales: $ctrl.scales}">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'FAULTY_TIMES' | translate }} - {{'STATS' | translate}}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.faultyTimesStats" chart-labels="$ctrl.data.names" chart-options="{legend: $ctrl.legend, scales: $ctrl.scales}"
						        chart-series="$ctrl.data.series">
						</canvas>
					</div>
				</div>



				<div class="w3-half">
					<h6>{{ 'PART_FAULTY_TIMES' | translate }}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.partFaultyTimes" chart-labels="$ctrl.data.names" chart-options="{tooltips: $ctrl.tooltipsBarPercentage, scales: $ctrl.scales }">
						</canvas>
					</div>
				</div>

				<div class="w3-half">
					<h6>{{ 'PART_FAULTY_TIMES' | translate }} - {{'STATS' | translate}}</h6>
					<div style="width:500px; height: 250px">
						<canvas class="chart chart-bar" width="500" height="250"
						        style="width: 500px; height: 250px;"
						        chart-data="$ctrl.data.partFaultyTimesStats" chart-labels="$ctrl.data.names" chart-options="{legend: $ctrl.legend, scales: $ctrl.scales}"
						        chart-series="$ctrl.data.series">
						</canvas>
					</div>
				</div>

			</div>
		</div>
	</div>

	<div class="w3-container">
		<div class="w3-accordion">
			<button ng-click="table = !table" ng-init="table=true" class="w3-btn-block w3-left-align w3-asphalt">
				{{ 'RESPONSES' | translate }} ({{$ctrl.responsesTab.length}}
				{{$ctrl.project.autoDeactivate ?  '/' + $ctrl.project.autoDeactivateCount.toString() : ''}})
				<i class="fa fa-angle-double-down" aria-hidden="true"
				   ng-if="!table"></i>
				<i class="fa fa-angle-double-up" aria-hidden="true" ng-if="table"></i>
			</button>
			<div class="w3-accordion-content" ng-class="{'w3-show': table}">

				<dynamic-table ng-show="$ctrl.isMyProject"
				               data="$ctrl.responsesTab" columns="$ctrl.columns"></dynamic-table>
			</div>
		</div>

	</div>
</div>