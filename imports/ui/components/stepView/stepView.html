<div class="w3-card-4">
	<header class="w3-container w3-{{stepView.color}}">
		<h5>
			<a class="button w3-btn w3-ripple w3-right w3-border w3-black header-button"
			   href="/projects/{{stepView.projectId}}/responses/{{stepView.responseId}}">
				<i class="fa fa-chevron-circle-left"></i> Back
			</a>
			<i class="fa fa-{{stepView.icon}} fa-fw"></i>
			{{stepView.step.tag}}
		</h5>
	</header>
	<div class="w3-container w3-pale-{{stepView.color}} w3-border-{{stepView.color}} w3-leftbar w3-rightbar w3-bottombar"
	     style="padding: 0px">

		<div class="w3-col m4">
			<video
					id="video"
					width="270" height="480" controls>
				<source ng-src="{{stepView.step.videoURL}}">
			</video>
		</div>
		<div class="w3-col m4">
			<canvas ng-init="stepView.start()"
			        width="270" height="480"
			        id="canvas">
			</canvas>
		</div>
		<div class="w3-col m4"
		     style="height:{{stepView.video.height}}px; overflow-y: auto; overflow-x: hidden" id="console">
			<!--<button ng-click="stepView.action()">Add action</button>-->
			<table class="table w3-table w3-table-all w3-hoverable">

				<tr>
					<th>Name</th>
					<th>Time</th>
					<th>Del.</th>
				</tr>

				<tr ng-repeat="action in stepView.actions | orderBy : 'time' track by $index ">
					<td><input class="w3-input" style="width:80%" type="text" ng-model="action.name"
					           placeholder="name"/></td>
					<td><input class="w3-input" style="width:80%" type="number"
					           ng-model="action.time" placeholder="time"/></td>
					<td><button class="w3-red" ng-click="stepView.removeAction(action)">x</button></td>
				</tr>
			</table>
		</div>

		<button class="w3-btn w3-ripple w3-left w3-border w3-blue"
		        ng-click="stepView.save()" >
			<i class="fa fa-plus"></i> Save actions
		</button>

		<div class="w3-content" ng-if="stepView.step.stars">
			<input-stars max="5" ng-model="stepView.step.stars" readonly></input-stars>
		</div>
		<div class="w3-content" ng-if="step.description">
			<textarea ng-model="stepView.step.description" disabled="true"></textarea>
		</div>

	</div>
</div>
